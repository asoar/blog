---
title: C++
date: 2016-03-10 21:10:40
tags:
    - C++知识点
---

一、面向对象的四个基本特征：抽象、封装、继承、多态(抽象、继承、封装是多态的基础，多态是抽象、封装、继承的表现)

1、32位机器上，指针sizeof为4个字节，64位机器上，指针sizeof为8个字节

2、空类也会被实例化，所以空类的sizeof为1个字节,非空类的sizeof就涉及到字节对齐问题
  
3、在没有特殊注明字节对齐时，系统会以默认的字节对齐规则进行字节对齐(常见对齐字节：1、2、4、8、16)

4、#pragma pack(push,A字节)指明字节对齐规则以A字节为准，A也只能为(1、2、4、8、16)，#pragma pack(pop)为释放对齐规则(以64位机器为例)

    class A{ 
        char a[2]; 
        char *p; 
    }; 
    sizeof(A对象) 为16

    #pragma pack(push,4)
    class A{ 
        char a[2]; 
        char *p; 
    };
    #pragma pack(pop)
    sizeof(A对象) 为12,如果把4改为2字节对齐，则结果为10
    注：在没指明字节对齐规则时，默认对齐方式以最大数据结构所占字节对齐，内存申请按顺序依次开辟空间，所以同样的数据类型不同顺序都会影响内存大小

<!--more-->


